(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bc1ae838"],{"2fa4":function(t,n,e){"use strict";e("20f6");var i=e("80d2");n["a"]=Object(i["i"])("spacer","div","v-spacer")},a7be:function(t,n,e){},f513:function(t,n,e){},fa6e:function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-container",{staticClass:"fill-height pa-0",attrs:{fluid:""}},[e("v-overlay",{attrs:{value:t.loading}},[e("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),e("editor",{ref:"toastuiEditor",staticStyle:{width:"100%"},attrs:{initialEditType:"wysiwyg",options:t.editorOptions,height:"100%"},on:{focus:t.onEditorFocus,blur:t.onEditorBlur,change:t.onEditorChange}}),e("v-dialog",{attrs:{persistent:"","max-width":"290"},scopedSlots:t._u([{key:"activator",fn:function(n){var i=n.on;return[e("v-btn",t._g({staticStyle:{display:"none"},attrs:{id:"dialogBtn",color:"primary",dark:""}},i))]}}]),model:{value:t.dialog,callback:function(n){t.dialog=n},expression:"dialog"}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[t._v("Save Before Leave?")]),e("v-card-text",[t._v("You have unsaved change. Do you want to save these change ?")]),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"grey darken-1",text:""},on:{click:t.stay}},[t._v("cancel")]),e("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:t.loadNewContent}},[t._v("Dont Save")]),e("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)},o=[],a=e("5530"),r=(e("a7be"),e("f513"),e("4ede")),s=e("2f62"),c={components:{editor:r["Editor"]},data:function(){return{editorOptions:{usageStatistics:!1,useCommandShortcut:!0},dialog:!1,focused:!1,loading:!1,oldCurrentFile:null}},computed:Object(a["a"])({},Object(s["d"])({isChange:function(t){return t.library.isChange},currentFile:function(t){return t.library.currentFile},saveFileEvent:function(t){return t.library.saveFileEvent},content:function(t){return t.library.content}})),mounted:function(){this.setMarkdown()},watch:{currentFile:function(t,n){this.isChange?(this.oldCurrentFile=n,document.getElementById("dialogBtn").click()):this.loadNewContent()},saveFileEvent:function(t){t&&this.saveFile()},content:function(){this.setMarkdown()}},methods:Object(a["a"])({},Object(s["c"])({setChange:"setChange",setSelectItem:"setSelectItem",commitContent:"commitContent"}),{onEditorFocus:function(){this.focused=!0,console.log("onEditorFocus")},onEditorBlur:function(){console.log("onEditorBlur")},onEditorChange:function(){this.focused&&this.getMarkdown()!=this.content&&this.setChange(!0)},getMarkdown:function(){return this.$refs.toastuiEditor.invoke("getMarkdown")},setMarkdown:function(){this.$refs.toastuiEditor.invoke("setMarkdown",this.content,!1),this.loading=!1,this.setChange(!1),this.focused=!1},stay:function(){this.dialog=!1,setSelectItem([this.oldCurrentFile])},save:function(){var t=this;this.loading=!0;var n,e=this.getMarkdown();null==this.oldCurrentFile?(n="untitled.md",this.$http.notificationApi.commitAdd(pathName,!1)):n=this.oldCurrentFile.pathName,this.$http.notificationApi.commitEdit(n,e).then((function(n){t.commitContent(e),t.loading=!1,t.dialog=!1}))},loadNewContent:function(){var t=this;this.loading=!0,this.$http.fileApi.fetchContent(this.currentFile.pathName).then((function(n){t.commitContent(n.data)}))},saveFile:function(){var t=this;this.loading=!0;var n,e=this.getMarkdown();null==this.currentFile?(n="untitled.md",this.$http.notification.commitAdd(pathName,!1)):n=this.currentFile.pathName,this.$http.notificationApi.commitEdit(n,e).then((function(n){t.commitContent(e),t.loading=!1}))}})},l=c,d=e("2877"),u=e("6544"),h=e.n(u),f=e("8336"),v=e("b0af"),g=e("99d9"),m=e("a523"),p=e("169a"),C=e("a797"),k=e("490a"),w=e("2fa4"),b=Object(d["a"])(l,i,o,!1,null,null,null);n["default"]=b.exports;h()(b,{VBtn:f["a"],VCard:v["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VContainer:m["a"],VDialog:p["a"],VOverlay:C["a"],VProgressCircular:k["a"],VSpacer:w["a"]})}}]);
//# sourceMappingURL=chunk-bc1ae838.1c569285.js.map